!function(e){var t;Date.now||(Date.now=function(){return+new Date}),e.fn.jAlert=function(t){e("body").focus(),e("body").blur();var a={xsmall:"xsm",small:"sm",medium:"md",large:"lg",xlarge:"xlg"},o=[],i=["animated"],r=[];if(this.length>1)return this.each((function(){e.fn.jAlert(t)})),this;if(void 0!==e(this)[0]&&"undefined"!=e(this)[0].jAlert)return e(this)[0].jAlert;if(e.each(e.fn.jAlert.defaults,(function(e,n){var a=e.toLowerCase();void 0!==t[a]&&(t[e]=t[a])})),(t=e.extend({},e.fn.jAlert.defaults,t)).id)l=t.id;else var l="ja_"+(Date.now().toString()+Math.floor(1e5*Math.random()));var s={set:function(e,t){return s[e]=t,s},__set:function(e,t){return s.set(e,t)},get:function(e){return s[e]},__get:function(e){return s.get(e)},animateAlert:function(t){return"hide"==t?(s.instance.data("jAlert").blurBackground&&e("body").removeClass("ja_blur"),s.instance.removeClass(s.showAnimation).addClass(s.hideAnimation)):(s.instance.data("jAlert").blurBackground&&e("body").addClass("ja_blur"),s.instance.addClass(s.showAnimation).removeClass(s.hideAnimation).show()),s},closeAlert:function(t,a){return 0!=t&&(t=!0),s.instance&&(s.animateAlert("hide"),window.setTimeout((function(){var o=s.instance.parents(".ja_wrap");t?o.remove():o.hide(),n(),"function"==typeof a?a(s.instance):"function"==typeof s.onClose&&s.onClose(s.instance),0===e(".jAlert:visible").length&&e("html,body").css("overflow","")}),s.animationTimeout)),s},showAlert:function(t,n,a,o){0!=t&&(t=!0),!1!==n&&(n=!0),t&&e(".jAlert:visible").data("jAlert").jAlert().closeAlert(n);var i=s.instance.parents(".ja_wrap");return e("body").append(i),s.animateAlert("show"),"function"==typeof o&&(s.onClose=o),window.setTimeout((function(){"function"==typeof a&&a(s.instance)}),s.animationTimeout),s}};if(e.each(t,(function(e,t){s.set(e,t)})),s.set("id",l),s.content&&0===s.content.indexOf("#")&&e(s.content).length>0&&(s.content=e(s.content).html()),"object"==typeof s.content&&s.jquery&&(s.content=s.content.html()),s.video&&s.video.indexOf("youtube.com/watch?v=")>-1&&-1===s.video.indexOf("embed")&&(s.video=s.video.replace("watch?v=","embed/")),"confirm"==s.type&&(s.content||(s.content=s.confirmQuestion),s.btns=[{text:s.confirmBtnText,theme:"green",class:"confirmBtn",closeAlert:!0,onClick:s.onConfirm},{text:s.denyBtnText,theme:"red",class:"denyBtn",closeAlert:!0,onClick:s.onDeny}],s.autofocus=s.confirmAutofocus),s.color&&(s.theme=s.color),-1==e.inArray(s.theme,["default","green","dark_green","red","dark_red","black","brown","gray","dark_gray","blue","dark_blue","yellow"]))return console.log("jAlert Config Error: Invalid theme selection."),!1;if(i.push("ja_"+s.theme),s.class&&i.push(s.class),s.classes&&i.push(s.classes),s.fullscreen&&i.push("ja_fullscreen"),s.noPadContent&&i.push("ja_no_pad"),s.title||i.push("ja_noTitle"),s.width&&(s.size=s.width),s.size&&"object"==typeof s.size&&(void 0===s.size.width||void 0===s.size.height))return console.log("jAlert Config Error: Invalid size selection (try a preset or make sure you're including height and width in your size object)."),!1;if(s.size?"object"==typeof s.size?(o.push("width: "+s.size.width+";"),o.push("height: "+s.size.height+";"),i.push("ja_setheight")):(void 0!==a[s.size]&&(s.size=a[s.size]),e.inArray(s.size,["xsm","sm","md","lg","xlg","full","auto"])>-1?i.push("ja_"+s.size):o.push("width: "+s.size+";")):i.push("ja_sm"),-1==e.inArray(s.backgroundColor,["white","black"]))return console.log("jAlert Config Error: Invalid background color selection."),!1;r.push("ja_wrap_"+s.backgroundColor),s.onOpen=[s.onOpen];var c="<div class='ja_loader'>Loading...</div>";s.picture&&(s.image=s.picture),s.image?(s.noPadContent=!0,s.content="<div class='ja_media_wrap'>"+c+"<img src='"+s.image+"' class='ja_img' onload='$.fn.jAlert.mediaLoaded($(this))''",s.imageWidth&&(s.content+=" style='width: "+s.imageWidth+"'"),s.content+="></div>",s.onOpen.unshift((function(e){var t=e.find(".ja_img");t.on("load",(function(){e.css("width",t.width()+"px"),e.css("height",t.height()+"px")}))}))):s.video?(s.content="<div class='ja_media_wrap'>"+c+"<div class='ja_video'></div></div>",s.onOpen.unshift((function(t){var n=document.createElement("iframe");n.src=t.data("jAlert").video,n.addEventListener?n.addEventListener("load",(function(){e.fn.jAlert.mediaLoaded(e(this))}),!0):n.attachEvent?n.attachEvent("onload",(function(){e.fn.jAlert.mediaLoaded(e(this))})):n.onload=function(){e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_video").append(n)}))):s.iframe?(s.iframeHeight||i.push("ja_stretch_height"),s.content="<div class='ja_media_wrap'>"+c+"</div>",s.onOpen.unshift((function(t){var n=document.createElement("iframe");n.src=t.jAlert().iframe,n.className="ja_iframe",n.addEventListener?n.addEventListener("load",(function(){e.fn.jAlert.mediaLoaded(e(this))}),!0):n.attachEvent?n.attachEvent("onload",(function(){e.fn.jAlert.mediaLoaded(e(this))})):n.onload=function(){e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_media_wrap").append(n)}))):s.ajax&&(s.content="<div class='ja_media_wrap'>"+c+"</div>",onAjaxCallbacks=s.onOpen,s.onOpen=[function(t){e.ajax(t.jAlert().ajax,{async:!0,complete:function(n,a){t.find(".ja_media_wrap").replaceWith(n.responseText),e.each(onAjaxCallbacks,(function(e,n){n(t)}))},error:function(e,n,a){s.onAjaxFail(t,"Error getting content: Code: "+e.status+" : Msg: "+e.statusText)}})}]);var d=function(t){if(void 0===t.href&&(t.href=""),void 0===t.class&&(t.class=""),void 0===t.theme?t.class+=" ja_btn_default":t.class+=" ja_btn_"+t.theme,void 0===t.text&&(t.text=""),void 0===t.id){var n=Date.now().toString()+Math.floor(1e5*Math.random());t.id="ja_btn_"+n}return void 0===t.target&&(t.target="_self"),void 0===t.closeAlert&&(t.closeAlert=!0),e("body").off("click","#"+t.id),e("body").on("click","#"+t.id,(function(n){var a=e(this);s=a.parents(".jAlert").jAlert(),t.closeAlert&&s.closeAlert();var o=!0;return"function"==typeof t.onClick&&(o=t.onClick(n,a,s)),!o||t.closeAlert?(n.preventDefault(),!1):o})),"<a href='"+t.href+"' id='"+t.id+"' target='"+t.target+"' class='ja_btn "+t.class+"'"+(t.role?" role='"+t.role+"'":"")+">"+t.text+"</a> "},u=function(t){var a="";a+='<div class="ja_wrap '+r.join(" ")+'" role="alertdialog" aria-modal="true"><div class="jAlert '+i.join(" ")+'" style="'+o.join(" ")+'" id="'+s.id+'"><div>',s.closeBtn&&(a+="<div tabindex=0 role='button' aria-pressed='false' class='closejAlert ja_close",s.closeBtnAlt?a+=" ja_close_alt":s.closeBtnRoundWhite?a+=" ja_close_round_white":s.closeBtnRound&&(a+=" ja_close_round"),a+="'",s.closeTextAriaLabel&&(a+=' aria-label="'+e("<div>").text(s.closeTextAriaLabel).html()+'"'),a+=">&times;</div>"),s.title&&(a+="<div class='ja_title'><div>"+s.title+"</div></div>"),a+='<div class="ja_body">'+t,s.btns&&(a+='<div class="ja_btn_wrap ',s.btnBackground&&(a+="optBack"),a+='">'),"object"==typeof s.btns[0]?e.each(s.btns,(function(e,t){"object"==typeof t&&(a+=d(t))})):"object"==typeof s.btns?a+=d(s.btns):s.btns&&console.log("jAlert Config Error: Incorrect value for btns (must be object or array of objects): "+s.btns),s.btns&&(a+="</div>");var l=e(a+="</div></div></div></div>");s.replaceOtherAlerts&&e(".jAlert:visible").each((function(){e(this).jAlert().closeAlert()}));return e("body").append(l),e(".jAlert:last").data("jAlert",s),s.instance=e("#"+s.id),s.instance[0].jAlert=s,e("html,body").css("overflow","hidden"),s.animateAlert("show"),s.closeBtn&&(s.instance.on("click",".closejAlert",(function(t){return t.preventDefault(),e(this).parents(".jAlert:first").closeAlert(),!1})),s.instance.on("keydown",".closejAlert",(function(t){if("Enter"===t.originalEvent.key)return t.preventDefault(),e(this).parents(".jAlert:first").closeAlert(),!1}))),s.closeOnClick&&(e(document).off("mouseup touchstart",e.fn.jAlert.onMouseUp),e(document).on("mouseup touchstart",e.fn.jAlert.onMouseUp)),s.closeOnEsc&&(e(document).off("keydown",e.fn.jAlert.onEscKeyDown),e(document).on("keydown",e.fn.jAlert.onEscKeyDown)),s.onOpen.push(n),e.each(s.onOpen,(function(e,t){t(s.instance)})),s.autofocus?s.instance.find(s.autofocus).focus():s.instance.focus(),s.autoClose&&e.fn.closeTimer((function(){var t=e.jAlert("current");!1!==t&&t.closeAlert()}),s.autoClose),s.instance};return this.initialize=function(){return s.content||s.image||s.video||s.iframe||s.ajax?(s.content||(s.content=""),u(s.content)):(console.log("jAlert potential error: No content defined"),u(""))},this.initialize(),s},e.fn.closeTimer=(jQuery,t=0,function(e,n){clearTimeout(t),t=setTimeout(e,n)}),e.fn.jAlert.defaults={title:!1,content:!1,noPadContent:!1,fullscreen:!1,image:!1,imageWidth:"auto",video:!1,ajax:!1,onAjaxFail:function(e,t){e.jAlert().closeAlert(),errorAlert(t)},iframe:!1,iframeHeight:!1,class:"",classes:"",id:!1,showAnimation:"fadeInUp",hideAnimation:"fadeOutDown",animationTimeout:600,theme:"default",backgroundColor:"black",blurBackground:!1,size:!1,replaceOtherAlerts:!1,closeOnClick:!1,closeOnEsc:!0,closeBtn:!0,closeBtnAlt:!1,closeBtnRound:!0,closeBtnRoundWhite:!1,btns:!1,autoClose:!1,btnBackground:!0,autofocus:!1,onOpen:function(e){return!1},onClose:function(e){return!1},type:"modal",confirmQuestion:"Are you sure?",confirmBtnText:"Yes",denyBtnText:"No",confirmAutofocus:".confirmBtn",onConfirm:function(e,t){return e.preventDefault(),console.log("confirmed"),!1},onDeny:function(e,t){return e.preventDefault(),!1}};var n=function(){var t=e.jAlert("current");t?document.querySelectorAll("body *").forEach((function(n){(function(t){var n,a,o,i=t.nodeName.toLowerCase(),r=!isNaN(e.attr(t,"tabindex"));if("area"===i)return a=(n=t.parentNode).name,!(!t.href||!a||"map"!==n.nodeName.toLowerCase())&&(!!(o=e("img[usemap=#"+a+"]")[0])&&l(o));return(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"===i&&t.href||r)&&l(t);function l(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}})(n)&&(e.contains(t.instance[0],n)?e(n).removeClass("trap-disabled").attr("tabindex",0).attr("aria-hidden",!1):e(n).addClass("trap-disabled").attr("tabindex",-1).attr("aria-hidden",!0))})):e(".trap-disabled").removeClass("trap-disabled").attr("tabindex",0).attr("aria-hidden",!1)};e.fn.jAlert.onMouseUp=function(t){var n=t.target?t.target:t.srcElement,a=e(".jAlert:visible:last");a.length>0&&a.data("jAlert").closeOnClick&&(e(n).is(".jAlert *")||a.data("jAlert").closeAlert())},e.fn.jAlert.onEscKeyDown=function(t){if(27===t.keyCode){var n=e(".jAlert:visible:last");n.length>0&&n.data("jAlert").closeOnEsc&&n.data("jAlert").closeAlert()}},e.fn.attachjAlert=function(t){return t.preventDefault(),e.jAlert(e(this).data()),!1},e.jAlert=function(t){if("current"==t){var n=e(".jAlert:visible:last");return n.length>0&&n.data("jAlert")}return"attach"==t?(e("[data-jAlert]").off("click",e.fn.attachjAlert),e("[data-jAlert]").on("click",e.fn.attachjAlert),e("[data-jalert]").off("click",e.fn.attachjAlert),e("[data-jalert]").on("click",e.fn.attachjAlert),!1):e.fn.jAlert(t)},e.fn.alertOnClick=function(t){e(this).on("click",(function(n){return n.preventDefault(),e.jAlert(t),!1}))},e.alertOnClick=function(t,n){e("body").on("click",t,(function(t){return t.preventDefault(),e.jAlert(n),!1}))},e.fn.closeAlert=function(t,n){e(this).data("jAlert")&&e(this).data("jAlert").closeAlert(t,n)},e.fn.jAlert.mediaLoaded=function(e){var t=e.parents(".ja_media_wrap"),n=t.find(".ja_video"),a=e.parents(".jAlert:first").data("jAlert");t.find(".ja_loader").remove(),n.length>0?n.fadeIn("fast"):e.fadeIn("fast"),a.iframeHeight&&(e.css("flex","unset"),e.height(a.iframeHeight))}}(jQuery);
